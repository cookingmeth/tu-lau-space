[build]
publish = "public"
command = "yarn project-setup; yarn build"

[build.environment]
HUGO_VERSION = "0.147.3"
GO_VERSION = "1.24.2"

# Enable Netlify Identity and Git Gateway for Decap CMS
[identity]
  # Enable Netlify Identity for authentication
  external_providers = ["github", "google"]

[context.production]
  [context.production.environment]
    HUGO_ENV = "production"

[[headers]]
for = "/*"
[headers.values]
Access-Control-Allow-Origin = "*"
Access-Control-Allow-Methods = "GET, POST, PUT, DELETE, OPTIONS"
Access-Control-Allow-Headers = "Origin, X-Requested-With, Content-Type, Accept, Authorization"

[[headers]]
for = "/js/*"
[headers.values]
Access-Control-Allow-Origin = "*"
Cache-Control = "public, max-age=31536000"

[[headers]]
for = "/css/*"
[headers.values]
Access-Control-Allow-Origin = "*"
Cache-Control = "public, max-age=31536000"
