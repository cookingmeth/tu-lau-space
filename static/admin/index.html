<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="noindex" />
  <title>Content Manager - Từ Lâu Space</title>

  <!-- Google Fonts matching the site -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;600&family=Signika:wght@500;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">

  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <!-- Include the script that builds the page and powers Decap CMS -->
  <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>

  <!-- Custom Preview Styles - Inline for guaranteed loading -->
  <script>
    // Inline CSS that will definitely load
    var previewStyles = `
      /* Base Typography */
      body, .frame-content {
        font-family: 'Heebo', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;
        font-size: 16px !important;
        line-height: 1.6 !important;
        color: #444444 !important;
        background-color: #fff !important;
        padding: 2em !important;
      }

      /* Headings */
      h1, h2, h3, h4, h5, h6 {
        font-family: 'Playfair Display', serif !important;
        font-weight: 700 !important;
        color: #040404 !important;
        margin-top: 1.5em !important;
        margin-bottom: 0.75em !important;
        line-height: 1.3 !important;
      }

      h1 { font-size: 2.986rem !important; }
      h2 { font-size: 2.488rem !important; }
      h3 { font-size: 2.074rem !important; }
      h4 { font-size: 1.728rem !important; }
      h5 { font-size: 1.44rem !important; }
      h6 { font-size: 1.2rem !important; }

      /* Paragraphs */
      p {
        margin-bottom: 1.25em !important;
        color: #444444 !important;
      }

      /* Links */
      a {
        color: #121212 !important;
        text-decoration: underline !important;
      }

      /* Lists */
      ul, ol {
        margin-left: 1.5em !important;
        margin-bottom: 1.25em !important;
      }

      li {
        margin-bottom: 0.5em !important;
      }

      /* Images */
      img {
        max-width: 100% !important;
        height: auto !important;
        border-radius: 8px !important;
        margin: 1.5em 0 !important;
      }

      /* Code */
      code {
        background-color: #f6f6f6 !important;
        padding: 0.2em 0.4em !important;
        border-radius: 3px !important;
        font-family: 'Courier New', monospace !important;
        font-size: 0.9em !important;
      }

      pre {
        background-color: #f6f6f6 !important;
        padding: 1em !important;
        border-radius: 5px !important;
        overflow-x: auto !important;
      }

      pre code {
        background-color: transparent !important;
        padding: 0 !important;
      }

      /* Blockquotes */
      blockquote {
        border-left: 4px solid #121212 !important;
        padding-left: 1.5em !important;
        margin: 1.5em 0 !important;
        font-style: italic !important;
        color: #717171 !important;
      }

      /* HR */
      hr {
        border: none !important;
        border-top: 2px solid #eaeaea !important;
        margin: 2em 0 !important;
      }

      /* Tables */
      table {
        width: 100% !important;
        border-collapse: collapse !important;
        margin: 1.5em 0 !important;
      }

      th, td {
        padding: 0.75em !important;
        border: 1px solid #eaeaea !important;
        text-align: left !important;
      }

      th {
        background-color: #f6f6f6 !important;
        font-weight: 600 !important;
      }

      /* Preview-specific classes */
      .preview-image {
        width: 100% !important;
        max-width: 800px !important;
        height: auto !important;
        border-radius: 12px !important;
        margin: 2em 0 !important;
      }

      .preview-meta {
        display: flex !important;
        gap: 1em !important;
        font-size: 0.9em !important;
        color: #717171 !important;
        margin: 1em 0 !important;
        flex-wrap: wrap !important;
      }

      .preview-badge {
        background-color: #f6f6f6 !important;
        padding: 0.3em 0.8em !important;
        border-radius: 15px !important;
        font-size: 0.85em !important;
        display: inline-block !important;
      }

      .preview-draft {
        background-color: #fef3c7 !important;
        color: #92400e !important;
        padding: 0.5em 1em !important;
        border-radius: 5px !important;
        font-weight: 600 !important;
        margin-bottom: 1em !important;
        display: inline-block !important;
      }

      /* Workshop card styling */
      .workshop-preview {
        background: white !important;
        border-radius: 12px !important;
        overflow: hidden !important;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
        max-width: 600px !important;
      }

      .workshop-preview img {
        width: 100% !important;
        height: 250px !important;
        object-fit: cover !important;
        margin: 0 !important;
      }

      .workshop-content {
        padding: 2em !important;
      }

      .workshop-price-duration {
        display: flex !important;
        gap: 1.5em !important;
        margin-top: 1em !important;
        font-size: 0.95em !important;
        color: #717171 !important;
      }

      /* Service card styling */
      .service-preview {
        background: linear-gradient(135deg, #f6f6f6 0%, #ffffff 100%) !important;
        border-radius: 12px !important;
        padding: 2em !important;
        border: 1px solid #eaeaea !important;
      }

      /* Author preview */
      .author-preview {
        display: flex !important;
        gap: 2em !important;
        padding: 2em !important;
        background: #f6f6f6 !important;
        border-radius: 12px !important;
      }

      .author-avatar {
        width: 100px !important;
        height: 100px !important;
        border-radius: 50% !important;
        object-fit: cover !important;
      }

      .author-social {
        display: flex !important;
        gap: 1em !important;
        margin-top: 1em !important;
        font-size: 1.3em !important;
      }

      .author-social a {
        color: #121212 !important;
        text-decoration: none !important;
      }

      /* Responsive */
      @media (max-width: 768px) {
        h1 { font-size: 2.074rem !important; }
        h2 { font-size: 1.728rem !important; }
        h3 { font-size: 1.44rem !important; }

        .author-preview {
          flex-direction: column !important;
          align-items: center !important;
          text-align: center !important;
        }
      }
    `;

    // Wait for CMS to be ready
    window.CMS_MANUAL_INIT = true;

    document.addEventListener('DOMContentLoaded', function() {
      setTimeout(function() {
        if (!window.CMS) {
          console.error('❌ CMS not loaded');
          return;
        }

        console.log('✅ CMS loaded, initializing...');

        // Register styles
        CMS.registerPreviewStyle(previewStyles, { raw: true });
        console.log('✅ Styles registered');

        // Initialize CMS
        CMS.init();
        console.log('✅ CMS initialized');
      }, 500);
    });
  </script>
</body>
</html>
