<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="noindex" />
  <title>Content Manager - Từ Lâu Space</title>
</head>
<body>
  <!-- Include the script that builds the page and powers Decap CMS -->
  <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>

  <script>
    // Wait for CMS to be fully initialized
    window.CMS_MANUAL_INIT = true;

    // Initialize when DOM is ready
    window.addEventListener('DOMContentLoaded', (event) => {
      // Embed CSS directly as raw string
      const previewCSS = `
        @import url('https://fonts.googleapis.com/css2?family=Heebo:wght@400;600&family=Signika:wght@500;700&family=Playfair+Display:wght@400;700&display=swap');

        * {
          box-sizing: border-box;
        }

        body, html {
          font-family: 'Heebo', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
          font-size: 16px !important;
          line-height: 1.6 !important;
          color: #444444 !important;
          background-color: #fff !important;
          padding: 2em !important;
          margin: 0 !important;
        }

        h1, h2, h3, h4, h5, h6 {
          font-family: 'Playfair Display', Georgia, serif !important;
          font-weight: 700 !important;
          color: #040404 !important;
          margin-top: 1.5em !important;
          margin-bottom: 0.75em !important;
          line-height: 1.3 !important;
        }

        h1:first-child, h2:first-child, h3:first-child {
          margin-top: 0 !important;
        }

        h1 { font-size: 2.986rem !important; }
        h2 { font-size: 2.488rem !important; }
        h3 { font-size: 2.074rem !important; }
        h4 { font-size: 1.728rem !important; }
        h5 { font-size: 1.44rem !important; }
        h6 { font-size: 1.2rem !important; }

        p {
          margin-bottom: 1.25em !important;
          color: #444444 !important;
          line-height: 1.6 !important;
        }

        a {
          color: #121212 !important;
          text-decoration: underline !important;
          transition: opacity 0.2s !important;
        }

        a:hover {
          opacity: 0.7 !important;
        }

        ul, ol {
          margin-left: 1.5em !important;
          margin-bottom: 1.25em !important;
          color: #444444 !important;
        }

        li {
          margin-bottom: 0.5em !important;
          line-height: 1.6 !important;
        }

        ul li {
          list-style-type: disc !important;
        }

        ol li {
          list-style-type: decimal !important;
        }

        blockquote {
          border-left: 4px solid #121212 !important;
          padding-left: 1.5em !important;
          margin: 1.5em 0 !important;
          font-style: italic !important;
          color: #717171 !important;
        }

        code {
          background-color: #f6f6f6 !important;
          padding: 0.2em 0.4em !important;
          border-radius: 3px !important;
          font-family: 'Courier New', 'Monaco', monospace !important;
          font-size: 0.9em !important;
          color: #040404 !important;
        }

        pre {
          background-color: #f6f6f6 !important;
          padding: 1em !important;
          border-radius: 5px !important;
          overflow-x: auto !important;
          margin-bottom: 1.25em !important;
        }

        pre code {
          background-color: transparent !important;
          padding: 0 !important;
        }

        img {
          max-width: 100% !important;
          height: auto !important;
          border-radius: 8px !important;
          margin: 1.5em 0 !important;
          display: block !important;
        }

        hr {
          border: none !important;
          border-top: 2px solid #eaeaea !important;
          margin: 2em 0 !important;
        }

        table {
          width: 100% !important;
          border-collapse: collapse !important;
          margin: 1.5em 0 !important;
        }

        th, td {
          padding: 0.75em !important;
          border: 1px solid #eaeaea !important;
          text-align: left !important;
        }

        th {
          background-color: #f6f6f6 !important;
          font-weight: 600 !important;
          color: #040404 !important;
        }

        strong, b {
          font-weight: 600 !important;
          color: #040404 !important;
        }

        em, i {
          font-style: italic !important;
        }

        del, s {
          text-decoration: line-through !important;
        }

        @media (max-width: 768px) {
          body, html {
            padding: 1em !important;
          }
          h1 { font-size: 2.074rem !important; }
          h2 { font-size: 1.728rem !important; }
          h3 { font-size: 1.44rem !important; }
          h4 { font-size: 1.2rem !important; }
        }
      `;

      // Register the CSS styles
      CMS.registerPreviewStyle(previewCSS, { raw: true });
      console.log('✅ Preview styles registered (raw CSS)');

      // Also try registering as a link for redundancy
      CMS.registerPreviewStyle('/admin/preview.css');
      console.log('✅ Preview styles registered (external CSS)');

      // Initialize CMS
      CMS.init();
      console.log('✅ CMS initialized');
    });
  </script>
</body>
</html>
